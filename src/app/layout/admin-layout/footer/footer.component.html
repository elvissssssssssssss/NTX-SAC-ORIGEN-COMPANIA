
<div  class="medio">  


<footer >
 

  <!-- CHATBOT CON IA PARA ADMIN -->
  <div class="ai-chatbot-wrapper">
    
    <!-- Bot칩n toggle con SVG del robot -->
    <div class="chatbot-toggle ai-toggle" (click)="toggleChatbot()">
      <svg viewBox="0 0 400 500" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <!-- Gradientes morados para admin -->
          <linearGradient id="bodyGradientAdmin" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#e0e7ff;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#ddd6fe;stop-opacity:1" />
          </linearGradient>
          
          <radialGradient id="eyeGradientAdmin" cx="30%" cy="30%" r="70%">
            <stop offset="0%" style="stop-color:#a78bfa;stop-opacity:1" />
            <stop offset="70%" style="stop-color:#8b5cf6;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#6d28d9;stop-opacity:1" />
          </radialGradient>
          
          <linearGradient id="purpleGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#a78bfa;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#8b5cf6;stop-opacity:1" />
          </linearGradient>
          
          <filter id="shadowAdmin" x="-20%" y="-20%" width="140%" height="140%">
            <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="#000000" flood-opacity="0.3"/>
          </filter>
        </defs>
        
        <!-- Antena -->
        <line x1="200" y1="50" x2="200" y2="80" stroke="#8b5cf6" stroke-width="3" stroke-linecap="round"/>
        ircle cx="200" cy="45" r="6" fill="url(#purpleGradient)" filter="url(#shadowAdmin)"/>
        
        <!-- Cuerpo principal (cabeza) -->
        <ellipse cx="200" cy="180" rx="100" ry="80" fill="url(#bodyGradientAdmin)" filter="url(#shadowAdmin)"/>
        
        <!-- Borde morado del cuerpo -->
        <ellipse cx="200" cy="180" rx="100" ry="80" fill="none" stroke="#8b5cf6" stroke-width="4"/>
        
        <!-- Ojo izquierdo (m치s grande) -->
        ircle cx="170" cy="160" r="35" fill="#f0f0f0" filter="url(#shadowAdmin)"/>
        ircle cx="170" cy="160" r="30" fill="url(#eyeGradientAdmin)"/>
        ircle cx="170" cy="160" r="15" fill="#000000"/>
        ircle cx="175" cy="155" r="5" fill="#ffffff" opacity="0.8"/>
        
        <!-- Ojo derecho (m치s peque침o) -->
        ircle cx="230" cy="160" r="25" fill="#f0f0f0" filter="url(#shadowAdmin)"/>
        ircle cx="230" cy="160" r="20" fill="url(#eyeGradientAdmin)"/>
        ircle cx="230" cy="160" r="10" fill="#000000"/>
        ircle cx="233" cy="157" r="3" fill="#ffffff" opacity="0.8"/>
        
        <!-- Boca -->
        <ellipse cx="200" cy="210" rx="20" ry="15" fill="#2c2c2c"/>
        <ellipse cx="200" cy="208" rx="18" ry="12" fill="#a78bfa"/>
        
        <!-- Dientes -->
        <rect x="185" y="203" width="6" height="8" fill="#ffffff" rx="2"/>
        <rect x="195" y="203" width="6" height="8" fill="#ffffff" rx="2"/>
        <rect x="205" y="203" width="6" height="8" fill="#ffffff" rx="2"/>
        <rect x="215" y="203" width="6" height="8" fill="#ffffff" rx="2"/>
        
        <!-- Lengua -->
        <ellipse cx="200" cy="215" rx="12" ry="6" fill="#c4b5fd"/>
        
        <!-- Brazos -->
        <ellipse cx="130" cy="220" rx="20" ry="40" fill="url(#bodyGradientAdmin)" filter="url(#shadowAdmin)"/>
        <ellipse cx="130" cy="220" rx="20" ry="40" fill="none" stroke="#8b5cf6" stroke-width="3"/>
        
        <!-- Mano izquierda -->
        ircle cx="130" cy="270" r="18" fill="url(#purpleGradient)" filter="url(#shadowAdmin)"/>
        ircle cx="125" cy="265" r="6" fill="url(#purpleGradient)"/>
        ircle cx="135" cy="265" r="6" fill="url(#purpleGradient)"/>
        ircle cx="125" cy="275" r="6" fill="url(#purpleGradient)"/>
        ircle cx="135" cy="275" r="6" fill="url(#purpleGradient)"/>
        
        <!-- Brazo derecho -->
        <ellipse cx="270" cy="220" rx="20" ry="40" fill="url(#bodyGradientAdmin)" filter="url(#shadowAdmin)"/>
        <ellipse cx="270" cy="220" rx="20" ry="40" fill="none" stroke="#8b5cf6" stroke-width="3"/>
        
        <!-- Mano derecha -->
        ircle cx="270" cy="270" r="18" fill="url(#purpleGradient)" filter="url(#shadowAdmin)"/>
        ircle cx="265" cy="265" r="6" fill="url(#purpleGradient)"/>
        ircle cx="275" cy="265" r="6" fill="url(#purpleGradient)"/>
        ircle cx="265" cy="275" r="6" fill="url(#purpleGradient)"/>
        ircle cx="275" cy="275" r="6" fill="url(#purpleGradient)"/>
        
        <!-- Cuerpo inferior -->
        <rect x="150" y="250" width="100" height="80" rx="15" fill="url(#bodyGradientAdmin)" filter="url(#shadowAdmin)"/>
        <rect x="150" y="250" width="100" height="80" rx="15" fill="none" stroke="#8b5cf6" stroke-width="4"/>
        
        <!-- Panel del pecho -->
        <rect x="170" y="270" width="60" height="40" rx="8" fill="#a78bfa" opacity="0.3"/>
        ircle cx="200" cy="290" r="8" fill="url(#purpleGradient)"/>
        
        <!-- Piernas -->
        <rect x="160" y="330" width="25" height="60" rx="12" fill="url(#bodyGradientAdmin)" filter="url(#shadowAdmin)"/>
        <rect x="160" y="330" width="25" height="60" rx="12" fill="none" stroke="#8b5cf6" stroke-width="3"/>
        
        <rect x="215" y="330" width="25" height="60" rx="12" fill="url(#bodyGradientAdmin)" filter="url(#shadowAdmin)"/>
        <rect x="215" y="330" width="25" height="60" rx="12" fill="none" stroke="#8b5cf6" stroke-width="3"/>
        
        <!-- Pies -->
        <ellipse cx="172" cy="420" rx="25" ry="15" fill="url(#purpleGradient)" filter="url(#shadowAdmin)"/>
        <ellipse cx="172" cy="418" rx="20" ry="12" fill="#a78bfa"/>
        
        <ellipse cx="227" cy="420" rx="25" ry="15" fill="url(#purpleGradient)" filter="url(#shadowAdmin)"/>
        <ellipse cx="227" cy="418" rx="20" ry="12" fill="#a78bfa"/>
        
        <!-- Detalles decorativos -->
        ircle cx="160" cy="280" r="3" fill="#8b5cf6"/>
        ircle cx="240" cy="280" r="3" fill="#8b5cf6"/>
        ircle cx="160" cy="300" r="3" fill="#8b5cf6"/>
        ircle cx="240" cy="300" r="3" fill="#8b5cf6"/>
        
        <!-- Aletas laterales de la cabeza -->
        <ellipse cx="120" cy="170" rx="12" ry="20" fill="url(#purpleGradient)" filter="url(#shadowAdmin)"/>
        <ellipse cx="280" cy="170" rx="12" ry="20" fill="url(#purpleGradient)" filter="url(#shadowAdmin)"/>
      </svg>
      
      <!-- Badge de IA -->
      <div class="ai-badge">AI</div>
    </div>

    <!-- Contenedor del chat -->
    <div class="chatbot-container ai-chatbot" [class.show-chatbot]="isChatbotVisible">
      <div class="chatbot-header ai-header">
        <div class="chatbot-title">
          <div class="chatbot-logo">
            <i class="fas fa-brain"></i>
          </div>
          <div>
            <div class="chatbot-name">chat bot</div>
            <div class="chatbot-status">
              <span class="status-indicator"></span>
              {{ isLoading ? 'Procesando...' : 'En l칤nea' }}
            </div>
          </div>
        </div>
        <div class="header-actions">
          <i class="fas fa-redo" (click)="clearChat()" title="Limpiar chat"></i>
          <i class="fas fa-times" (click)="toggleChatbot()"></i>
        </div>
      </div>

      <div class="chatbot-body" #chatbotBody>
        <div *ngFor="let message of chatMessages" 
             class="message" 
             [class.bot-message]="message.role === 'assistant'"
             [class.user-message]="message.role === 'user'">
          <div class="message-content">{{ message.content }}</div>
          <div class="message-time">
            {{ message.timestamp | date:'HH:mm' }}
          </div>
        </div>

        <!-- Indicador de carga -->
        <div *ngIf="isLoading" class="message bot-message loading-message">
          <div class="typing-indicator">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>
      </div>

      <div class="chatbot-actions">
        <div class="quick-replies-admin">
          <button class="quick-reply-btn" (click)="sendQuickReply('Estad칤sticas del sistema')">
            游늵 Estad칤sticas
          </button>
          <button class="quick-reply-btn" (click)="sendQuickReply('Usuarios activos')">
            游논 Usuarios
          </button>
          <button class="quick-reply-btn" (click)="sendQuickReply('Ayuda con configuraci칩n')">
            丘뙖잺 Config
          </button>
        </div>

        <div class="chatbot-input">
          <input type="text" 
                 placeholder="Escribe tu mensaje..." 
                 [(ngModel)]="messageInput" 
                 (keyup)="handleKeyup($event)"
                 [disabled]="isLoading">
          <i class="fas fa-paperclip"></i>
        </div>
        <button class="action-button ai-send-btn" 
                (click)="sendMessage()"
                [disabled]="isLoading || !messageInput.trim()">
          <i class="fas" [ngClass]="isLoading ? 'fa-spinner fa-spin' : 'fa-paper-plane'"></i>
        </button>
      </div>
    </div>
  </div>
</footer>

 </div>